#!/bin/sh

source /cvmfs/cms.cern.ch/cmsset_default.sh

# When debugging, PyCharm first execute some python command to open a socket on the remote host.
# In this step, the working directory is not set. We need to cd into a CMSSW area manually

# Get script directory
DIR=$(cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd)

pushd "$DIR" &> /dev/null
eval `/cvmfs/cms.cern.ch/common/scramv1 ru -sh`
popd &> /dev/null

export PYTHONPATH="${PYTHONPATH}:." #TODO: fix this some day

python "$@"
